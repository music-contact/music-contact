{{> header}}

<!--{{#each artists as |artist|}}
<div class="card" style="width: 18rem;">
  <img src="{{artist.image}}" class="card-img-top" alt="...">
  <div class="card-body">
    <h5 class="card-title">{{artist.name}}</h5>
    <ul class="list-inline mb-0 artist-bar-detail">
      {{#if artist.isArtist}}
        {{#each artist.groups as |group|}}
        <li class="list-inline-item">
          <span class="badge text-bg-warning">
            {{group.groupId.name}}
          </span>
        </li>
        {{/each}}
      {{else}}
        {{#each artist.artists as |person|}}
        <li class="list-inline-item">
          <span class="badge text-bg-warning">
            {{person._id.name}}
          </span>
        </li>
        {{/each}}
      {{/if}}
    </ul>
    <p class="card-text">{{artist.description}}</p>
    <a href="{{#if artist.isArtist}}/artists/{{artist.id}}{{else}}/groups/{{artist.id}}{{/if}}"
      class="btn btn-primary">See details</a>
  </div>
</div>
{{/each}}-->

<body class="artists-body">
  <div class="filter-container">
    <form>
      <input name="search" type="text" placeholder="Search..." class="filter-input">
    </form>
    <div class="dropdowns-container">
      <div class="dropdown">
        <button class="btn btn-outline-light dropdown-toggle" style="text-transform: capitalize !important;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          {{#if currentFilter.sort}}{{currentFilter.sort}}endant{{else}}Sort by Asc/Desc{{/if}}
        </button>
        <ul class="dropdown-menu">
          <li><a id="sortAsc" class="filter dropdown-item" href="/artists?sort=asc{{#if currentFilter.type}}&type={{currentFilter.type}}{{/if}}">Ascendant</a></li>
          <li><a id="sortDesc" class="filter dropdown-item" href="/artists?sort=desc{{#if currentFilter.type}}&type={{currentFilter.type}}{{/if}}">Descendant</a></li>
        </ul>   
      </div>
      <div class="dropdown mx-3">
        <button class="btn btn-outline-light dropdown-toggle" style="text-transform: capitalize !important;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          {{#if currentFilter.type}}{{currentFilter.type}}{{else}}Sort By Artists/Groups{{/if}}
        </button>
        <ul class="dropdown-menu">
          <li><a id="typeArtist" class="filter dropdown-item" href="/artists?type=artist">Artists</a></li>
          <li><a id="typeGroup" class="filter dropdown-item" href="/artists?type=group">Groups</a></li>
        </ul>   
      </div>
    </div>
  </div>
  <div class="team-boxed">
    <div class="container">
      <div class="row people">
        {{#each artists as |artist|}}
          <div class="col-md-6 col-lg-4 item">
              <div class="box"><img class="artists-image" src="{{#checkImage artist.image}}{{artist.image}}{{else}} https://pbs.twimg.com/media/D0u1DoOX4AMg_d_.png {{/checkImage}}">
                  <h3 class="name">{{artist.name}}</h3>
                  {{#if artist.isArtist}}
                  <p class="title">Artist</p>
                    {{#each artist.groups as |group|}}
                    <li class="list-inline-item">
                      <span class="badge text-bg-warning">
                        {{group.groupId.name}}
                      </span>
                    </li>
                    {{/each}}
                  {{else}}
                    <p class="title">Group</p>
                    {{#each artist.artists as |person|}}
                    <li class="list-inline-item">
                      <span class="badge text-bg-warning">
                        {{person.artistId.name}}
                      </span>
                    </li>
                    {{/each}}
                  {{/if}}
                  <p class="description">{{artist.description}}</p>
                  <div class="social">
                    {{#checkSocial artist.socialMedia.facebook}}
                    <a href="{{artist.socialMedia.facebook}}" target="_blank"><i class="fa fa-facebook-official"></i></a>
                    {{/checkSocial}}
                    {{#checkSocial artist.socialMedia.twitter}}
                    <a href="{{artist.socialMedia.twitter}}" target="_blank"><i class="fa fa-twitter"></i></a>
                    {{/checkSocial}}
                    {{#checkSocial artist.socialMedia.instagram}}
                    <a href="{{artist.socialMedia.instagram}}" target="_blank"><i class="fa fa-instagram"></i></a>
                    {{/checkSocial}}
                    {{#checkSocial artist.socialMedia.spotify}}
                    <a href="{{artist.socialMedia.spotify}}" target="_blank"><i class="fa fa-spotify"></i></a>
                    {{/checkSocial}}
                  </div>
                  <a href="{{#if artist.isArtist}}/artists/{{artist.id}}{{else}}/groups/{{artist.id}}{{/if}}"
                  class="btn btn-primary-see-detail mt-3">See details</a>
              </div>
          </div>
        {{/each}}
      </div>
    </div>
  </div>
</body>